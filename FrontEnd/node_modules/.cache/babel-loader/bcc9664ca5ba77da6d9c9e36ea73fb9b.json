{"ast":null,"code":"var _jsxFileName = \"/home/dev/Desktop/development/React/extreme-joy/FrontEnd/src/context/context.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport items from \"../data\";\nconst ProductContext = React.createContext();\nexport default class ProductProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      filterProducts: [],\n      cart: [],\n      price: 0,\n      maxPrice: 0,\n      minPrice: 0,\n      loading: true,\n      tshirt: false,\n      jeans: false,\n      trousers: false\n    };\n\n    this.handleChange = event => {\n      const target = event.target;\n      const value = target.type === \"checkbox\" ? target.checked : target.value;\n      const name = target.name;\n      console.log(name, value);\n      this.setState({\n        [name]: value\n      }, this.filterProducts);\n    };\n\n    this.addToCart = prod => {\n      this.setState({\n        cart: [...this.state.cart, prod],\n        modalOpen: true\n      });\n      let done = false;\n      setTimeout(function () {\n        done = true;\n      }, 3000);\n      if (done == true) [this.setState({\n        modalOpen: false\n      })];\n    };\n\n    this.filterProducts = () => {\n      let {\n        products,\n        price,\n        maxPrice,\n        minPrice,\n        loading,\n        tshirt,\n        jeans,\n        trousers\n      } = this.state;\n      price = parseInt(price);\n      let tempProducts = [...products];\n      tempProducts = tempProducts.filter(el => el.price <= price);\n\n      if (tshirt) {\n        tempProducts = tempProducts.filter(prod => prod.category === \"tshirt\");\n      }\n\n      if (jeans) {\n        tempProducts = tempProducts.filter(prod => prod.category === \"jeans\");\n      }\n\n      if (trousers) {\n        tempProducts = tempProducts.filter(prod => prod.category === \"trousers\");\n      }\n\n      this.setState({\n        filterProducts: tempProducts\n      });\n    };\n  }\n\n  async componentDidMount() {\n    // let Products = items;\n    const products = await axios.get(\"/api/v1/products/getallproducts\"); // console.log(Products.data.data[0]);\n\n    let Products = products.data.data[0];\n    let maxPrice = Math.max(...Products.map(items => items.price));\n    this.setState({\n      products: Products,\n      filterProducts: Products,\n      price: maxPrice,\n      maxPrice: maxPrice,\n      loading: false,\n      modalOpen: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(ProductContext.Provider, {\n      value: { ...this.state,\n        handleChange: this.handleChange,\n        addToCart: this.addToCart\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, this.props.children);\n  }\n\n}\nconst ProductConsumer = ProductContext.Consumer;\nexport { ProductProvider, ProductConsumer, ProductContext };\nexport function withRoomConsumer(Component) {\n  return function ConsumerWrapper(props) {\n    return /*#__PURE__*/React.createElement(ProductConsumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }\n    }, value => /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      context: value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    })));\n  };\n}","map":{"version":3,"sources":["/home/dev/Desktop/development/React/extreme-joy/FrontEnd/src/context/context.js"],"names":["React","Component","axios","items","ProductContext","createContext","ProductProvider","state","products","filterProducts","cart","price","maxPrice","minPrice","loading","tshirt","jeans","trousers","handleChange","event","target","value","type","checked","name","console","log","setState","addToCart","prod","modalOpen","done","setTimeout","parseInt","tempProducts","filter","el","category","componentDidMount","get","Products","data","Math","max","map","render","props","children","ProductConsumer","Consumer","withRoomConsumer","ConsumerWrapper"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,MAAMC,cAAc,GAAGJ,KAAK,CAACK,aAAN,EAAvB;AAEA,eAAe,MAAMC,eAAN,SAA8BL,SAA9B,CAAwC;AAAA;AAAA;AAAA,SACrDM,KADqD,GAC7C;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,cAAc,EAAE,EAFV;AAGNC,MAAAA,IAAI,EAAC,EAHC;AAINC,MAAAA,KAAK,EAAE,CAJD;AAKNC,MAAAA,QAAQ,EAAE,CALJ;AAMNC,MAAAA,QAAQ,EAAE,CANJ;AAONC,MAAAA,OAAO,EAAE,IAPH;AAQNC,MAAAA,MAAM,EAAE,KARF;AASNC,MAAAA,KAAK,EAAE,KATD;AAUNC,MAAAA,QAAQ,EAAE;AAVJ,KAD6C;;AAAA,SAgCrDC,YAhCqD,GAgCrCC,KAAD,IAAW;AACxB,YAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,YAAMC,KAAK,GAAGD,MAAM,CAACE,IAAP,KAAgB,UAAhB,GAA6BF,MAAM,CAACG,OAApC,GAA8CH,MAAM,CAACC,KAAnE;AACA,YAAMG,IAAI,GAAGJ,MAAM,CAACI,IAApB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAAkBH,KAAlB;AAEA,WAAKM,QAAL,CACE;AACE,SAACH,IAAD,GAAQH;AADV,OADF,EAIE,KAAKZ,cAJP;AAMD,KA5CoD;;AAAA,SA8CrDmB,SA9CqD,GA8C1CC,IAAD,IAAQ;AAChB,WAAKF,QAAL,CAAc;AACZjB,QAAAA,IAAI,EAAC,CAAC,GAAG,KAAKH,KAAL,CAAWG,IAAf,EAAoBmB,IAApB,CADO;AAEZC,QAAAA,SAAS,EAAC;AAFE,OAAd;AAIA,UAAIC,IAAI,GAAC,KAAT;AACAC,MAAAA,UAAU,CAAC,YAAU;AAACD,QAAAA,IAAI,GAAC,IAAL;AAAU,OAAtB,EAAuB,IAAvB,CAAV;AACA,UAAGA,IAAI,IAAE,IAAT,EAAc,CACZ,KAAKJ,QAAL,CAAc;AACZG,QAAAA,SAAS,EAAC;AADE,OAAd,CADY;AAKf,KA1DoD;;AAAA,SA4DrDrB,cA5DqD,GA4DpC,MAAM;AACrB,UAAI;AACFD,QAAAA,QADE;AAEFG,QAAAA,KAFE;AAGFC,QAAAA,QAHE;AAIFC,QAAAA,QAJE;AAKFC,QAAAA,OALE;AAMFC,QAAAA,MANE;AAOFC,QAAAA,KAPE;AAQFC,QAAAA;AARE,UASA,KAAKV,KATT;AAUAI,MAAAA,KAAK,GAAGsB,QAAQ,CAACtB,KAAD,CAAhB;AACA,UAAIuB,YAAY,GAAG,CAAC,GAAG1B,QAAJ,CAAnB;AACA0B,MAAAA,YAAY,GAAGA,YAAY,CAACC,MAAb,CAAqBC,EAAD,IAASA,EAAE,CAACzB,KAAH,IAAYA,KAAzC,CAAf;;AAEA,UAAII,MAAJ,EAAY;AACVmB,QAAAA,YAAY,GAAGA,YAAY,CAACC,MAAb,CAAqBN,IAAD,IAAUA,IAAI,CAACQ,QAAL,KAAkB,QAAhD,CAAf;AACD;;AACD,UAAIrB,KAAJ,EAAW;AACTkB,QAAAA,YAAY,GAAGA,YAAY,CAACC,MAAb,CAAqBN,IAAD,IAAUA,IAAI,CAACQ,QAAL,KAAkB,OAAhD,CAAf;AACD;;AACD,UAAIpB,QAAJ,EAAc;AACZiB,QAAAA,YAAY,GAAGA,YAAY,CAACC,MAAb,CACZN,IAAD,IAAUA,IAAI,CAACQ,QAAL,KAAkB,UADf,CAAf;AAGD;;AAED,WAAKV,QAAL,CAAc;AACZlB,QAAAA,cAAc,EAAEyB;AADJ,OAAd;AAGD,KA1FoD;AAAA;;AAerD,QAAMI,iBAAN,GAA0B;AACxB;AACA,UAAM9B,QAAQ,GAAC,MAAON,KAAK,CAACqC,GAAN,CAAU,iCAAV,CAAtB,CAFwB,CAGxB;;AAEA,QAAIC,QAAQ,GAAChC,QAAQ,CAACiC,IAAT,CAAcA,IAAd,CAAmB,CAAnB,CAAb;AACA,QAAI7B,QAAQ,GAAG8B,IAAI,CAACC,GAAL,CAAS,GAAGH,QAAQ,CAACI,GAAT,CAAczC,KAAD,IAAWA,KAAK,CAACQ,KAA9B,CAAZ,CAAf;AACA,SAAKgB,QAAL,CAAc;AACZnB,MAAAA,QAAQ,EAAEgC,QADE;AAEZ/B,MAAAA,cAAc,EAAE+B,QAFJ;AAGZ7B,MAAAA,KAAK,EAAEC,QAHK;AAIZA,MAAAA,QAAQ,EAAEA,QAJE;AAKZE,MAAAA,OAAO,EAAE,KALG;AAMZgB,MAAAA,SAAS,EAAC;AANE,KAAd;AAQD;;AA8DDe,EAAAA,MAAM,GAAG;AACP,wBACE,oBAAC,cAAD,CAAgB,QAAhB;AACE,MAAA,KAAK,EAAE,EAAE,GAAG,KAAKtC,KAAV;AAAiBW,QAAAA,YAAY,EAAE,KAAKA,YAApC;AAAiDU,QAAAA,SAAS,EAAC,KAAKA;AAAhE,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGG,KAAKkB,KAAL,CAAWC,QAHd,CADF;AAOD;;AApGoD;AAuGvD,MAAMC,eAAe,GAAG5C,cAAc,CAAC6C,QAAvC;AAEA,SAAS3C,eAAT,EAA0B0C,eAA1B,EAA2C5C,cAA3C;AAEA,OAAO,SAAS8C,gBAAT,CAA0BjD,SAA1B,EAAqC;AAC1C,SAAO,SAASkD,eAAT,CAAyBL,KAAzB,EAAgC;AACrC,wBACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACIzB,KAAD,iBAAW,oBAAC,SAAD,oBAAeyB,KAAf;AAAsB,MAAA,OAAO,EAAEzB,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADd,CADF;AAKD,GAND;AAOD","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport items from \"../data\";\n\nconst ProductContext = React.createContext();\n\nexport default class ProductProvider extends Component {\n  state = {\n    products: [],\n    filterProducts: [],\n    cart:[],\n    price: 0,\n    maxPrice: 0,\n    minPrice: 0,\n    loading: true,\n    tshirt: false,\n    jeans: false,\n    trousers: false,\n\n  };\n\n  async componentDidMount() {\n    // let Products = items;\n    const products=await (axios.get(\"/api/v1/products/getallproducts\"));\n    // console.log(Products.data.data[0]);\n\n    let Products=products.data.data[0];\n    let maxPrice = Math.max(...Products.map((items) => items.price));\n    this.setState({\n      products: Products,\n      filterProducts: Products,\n      price: maxPrice,\n      maxPrice: maxPrice,\n      loading: false,\n      modalOpen:false\n    });\n  }\n\n  handleChange = (event) => {\n    const target = event.target;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    const name = target.name;\n    console.log(name, value);\n\n    this.setState(\n      {\n        [name]: value,\n      },\n      this.filterProducts\n    );\n  };\n\n  addToCart=(prod)=>{\n    this.setState({\n      cart:[...this.state.cart,prod],\n      modalOpen:true\n    })\n    let done=false;\n    setTimeout(function(){done=true},3000);\n    if(done==true)[\n      this.setState({\n        modalOpen:false\n      })\n    ]\n  }\n\n  filterProducts = () => {\n    let {\n      products,\n      price,\n      maxPrice,\n      minPrice,\n      loading,\n      tshirt,\n      jeans,\n      trousers,\n    } = this.state;\n    price = parseInt(price);\n    let tempProducts = [...products];\n    tempProducts = tempProducts.filter((el) => (el.price <= price));\n\n    if (tshirt) {\n      tempProducts = tempProducts.filter((prod) => prod.category === \"tshirt\");\n    }\n    if (jeans) {\n      tempProducts = tempProducts.filter((prod) => prod.category === \"jeans\");\n    }\n    if (trousers) {\n      tempProducts = tempProducts.filter(\n        (prod) => prod.category === \"trousers\"\n      );\n    }\n\n    this.setState({\n      filterProducts: tempProducts,\n    });\n  };\n\n  render() {\n    return (\n      <ProductContext.Provider\n        value={{ ...this.state, handleChange: this.handleChange,addToCart:this.addToCart }}\n      >\n        {this.props.children}\n      </ProductContext.Provider>\n    );\n  }\n}\n\nconst ProductConsumer = ProductContext.Consumer;\n\nexport { ProductProvider, ProductConsumer, ProductContext };\n\nexport function withRoomConsumer(Component) {\n  return function ConsumerWrapper(props) {\n    return (\n      <ProductConsumer>\n        {(value) => <Component {...props} context={value} />}\n      </ProductConsumer>\n    );\n  };\n}\n"]},"metadata":{},"sourceType":"module"}